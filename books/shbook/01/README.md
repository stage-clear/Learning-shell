# 書き方にかかわる基本的な説明

## 1.1 シェルスクリプトを作る際の基本事項

`#!` に続くコマンドが宣言となる。

```sh
#!/bin/sh
```

- [サンプル) あるファイルを別のファイルとくっつける](append)

```sh
$ append abc xyz
-bash: append: command not found

$ ./append abc xyz
-bash: ./append: Permission denied

$ ls -l
-rw-r--r--  1 nepdigital  staff  117 11  2 11:49 append
```

`append` ファイルのモードが `-rw-r--r--` となっているところに注意する
これは「作った本人は読み書きができ、他の人はみることだけができるファイル」という意味で、
「実行する許可がない」というエラーです。
シェルスクリプトはコマンドと同じように「実行できる」ようにしておかなくてはなりません。

```sh
$ chmod +x append
$ ls -l append
-rwxr-xr-x  1 nepdigital  staff  117 11  2 11:49 append
```

再度、実行します。

```sh
$ append abc xyz
$
# なにもいわずプロンプトが返る

$ ls -l
-rw-r--r--  1 nepdigital  staff     4 11  2 11:44 abc
-rwxr-xr-x  1 nepdigital  staff   117 11  2 11:49 append
-rw-r--r--  1 nepdigital  staff     8 11  2 11:58 xyz
```

`xyz` のファイルの大きさが増え、`abc` ファイルの文字数を加えたものになっている。

```sh
$ append FROMFILE TOFILE
```

とタイプすればいいということになります。

### まとめると

- シェルプログラムの先頭には、`#!/bin/sh` を書く
- シェルプログラムには、実行権限 （`x` フラグ）を与える


> `append: not found` というエラーになった場合は、コマンドのサーチパス（PATH変数）がセ
ットされていません。その場合は、 `$ ./append abc xyz` と実行してください。


## 1.2 コメントを書く場合

- `#` : 行コメント
- `#` : どの位置にあってもよく、`#` から行末までがコメント扱いとなる

```sh
#!/bin/sh
#
# この # で始まっている 5 行はすべてコメントです
# ここにはなにを書いてもかまいませんが、
# 少なからず意味のあることにしましょう
#
echo 'Hello World.' # ここもコメント
```


## 1.3 1行の取り扱い

- UNIX のコマンドは、どんなものでも「改行」で完結します
- `enter` キーを打つことでそのコマンドを実行させるということになります
- 1つのコマンドは1行に書いてしまわなくてはならない

```sh
$ echo Hello \
> World.
Hello World.
$
```

- `\` の直後の改行は無視される
- `\` の直前にスペースをいくら置いても1つのスペースで置き換えられる
- 故意に複数のスペースを置きたい場合は `"` などを使って指定する

```sh
$ echo "Hello       \
World."
```

## 1.4 ファイル名称の補完

- 「ワイルドカード」という、ファイル名称を補完する機能がある

> UNIX で「ファイル」というとき、どんなものでも形してそこにあるものはすべて「ファイル」で
す。普通のテキストファイルはもとより、ディレクトリやコマンドやデバイスすらも、ファイル
として取り扱います。
